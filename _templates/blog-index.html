{# Template for the blog index page. Cannot be done in the Markdown file
   because Nene isn't done creating all posts when it renders that template. #}
{% extends "base.html" %}

{% import "macros.html" as macros %}

{%- block content %}
  {%- for item in site["blog/index"]["siblings"]|sort(attribute="date", reverse=True) %}
    <h2 class="fs-4 mb-2 mt-5">
      <a class="" href="/{{ item.path }}">
        {{ item.title }}
      </a>
    </h2>
    <p class="text-muted mb-2 fs-6">
      <i class="far fa-calendar-alt me-1" aria-hidden="true"></i>
      {{ item.date|replace("-", "/") }}
    </p>
    <p class="text-muted">
      {{ item.body|striptags|trim|truncate(200) }}
    </p>
    {{ macros.button_link(item.path|relative_to(page.path), "Read more", type="btn-outline-light", icon="far fa-arrow-alt-circle-right", icon_position="end") }}
  {%- endfor %}
{%- endblock %}
